<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home page</title>
    <link href="./public/assets/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="./public/assets/css/global.css">
</head>

<body>
    <header class="header">
        <img src="./public/img/header_img.png" alt="Banner">
    </header>
    <main class="main">
        <div class="searching">
            <a href="./src/pages/main-page/nosearch-main.html">
                <img src="./public/img/lupa.png" alt="Pesquisar">
            </a>
            <input type="text" id="searching" placeholder="Digite sua busca aqui" />
        </div>
            <h2>Cafés especiais</h2>
        <div class="products">
            <ul class="products-list">
                <script>
                    function generateElements(html) {
                        const template = document.createElement('template');
                        template.innerHTML = html.trim();
                        return template.content.children[0];
                    }
                    
                    fetch("http://159.89.176.78:8001/categorias/lu_estilo/")
                            .then(function (res) {
                              return res.json();
                        })
                            .then(function (data) {
                              let products = data;
                            
                              products[0].products.map((product) => {
                                const elm = generateElements(`
                                    <li class="products-item">
                                        <a href="./src/pages/items/itemdetails.html?id=${product.id}">
                                            <img src="${product.images[0].image}" alt="Café">
                                        </a>
                                        <figure class="figure">${product.description}</figure>
                                        <figure class="figure">${product.stocks[0].unit_price}</figure>
                                    </li>
                                `);
                               
                                document.querySelector(".products-list").append(elm);
                            })
                            
                        });
                    
                </script>
            </ul>
        </div>
        <h2>Cafés especiais</h2>
        <div class="products">
            <ul class="products-list2">
                <script>
                    function generateElements(html) {
                        const template = document.createElement('template');
                        template.innerHTML = html.trim();
                        return template.content.children[0];
                    }
                    
                    fetch("http://159.89.176.78:8001/categorias/lu_estilo/")
                            .then(function (res) {
                              return res.json();
                        })
                            .then(function (data) {
                              let products = data;
                            
                              products[1].products.map((product) => {
                                const elm = generateElements(`
                                    <li class="products-item">
                                        <a href="./src/pages/items/itemdetails.html">
                                            <img src="${product.images[0].image}" alt="Café">
                                        </a>
                                        <figure class="figure">${product.description}</figure>
                                        <figure class="figure">${product.stocks[0].unit_price}</figure>
                                    </li>
                                `);
                               
                                document.querySelector(".products-list2").append(elm);
                            })
                        });
                    
                </script>
            </ul>
        </div>
    </main>
    <footer class="footer">
        <div class="navegator">
            <nav class="buttom-navegator">
                <div class="line-navegator">
                    <img src="./public/img/casa.png" alt="Home page">
                    <a href="./src/pages/main-page/main.html" target="_blank">Página inicial</a>
                </div>
                <div class="line-navegator">
                    <img src="./public/img/carrinho.png" alt="Carrinho">
                    <a href="./src/pages/cart/cart.html">Carrinho</a>
                </div>
                <div class="line-navegator">
                    <img src="./public/img/pessoa.png" alt="Meu perfil">
                    <a href="./src/pages/signin/account.html">Minha Conta</a>
                </div>
            </nav>
        </div>
    </footer>
</body>

</html>